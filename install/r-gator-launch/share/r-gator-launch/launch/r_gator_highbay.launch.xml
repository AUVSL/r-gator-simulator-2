<?xml version="1.0"?>
<launch>

  <arg name="paused" default="false"/>
  <arg name="use_sim_time" default="true"/>
  <arg name="gui" default="true"/>
  <arg name="headless" default="false"/>
  <arg name="debug" default="false"/>
  <arg name="world_name" default="highbay_track.world"/>
  <arg name="vehicle_x" default="-10"/>
  <arg name="vehicle_y" default="-21"/>
  <arg name="vehicle_yaw" default="3.14"/>

  <arg name="configuration_basename" default="r_gator_slam_2d_gazebo.lua"/>
  <arg name="remap_map_topic" default="false" />
  <arg name="remap_map_topic_name" default="/cmap" />

  <include file="$(find-pkg-share gazebo_ros)/launch/empty_world.launch">
    <arg name="debug" value="$(arg debug)" />
    <arg name="gui" value="$(arg gui)" />
    <arg name="paused" value="$(arg paused)"/>
    <arg name="use_sim_time" value="$(arg use_sim_time)"/>
    <arg name="headless" value="$(arg headless)"/>
    <arg name="verbose" value="false"/>
    <arg name="world_name" value="$(find-pkg-share r_gator_gazebo)/worlds/$(arg world_name)"/>
  </include>

  <include file="$(find-pkg-share r-gator-gazebo)/launch/r_gator_vehicle.launch">
    <arg name="x" value="$(arg vehicle_x)"/>
    <arg name="y" value="$(arg vehicle_y)"/>
    <arg name="yaw" default="$(arg vehicle_yaw)"/>
  </include>

  <node pkg="teleop_twist_keyboard" exec="teleop_twist_keyboard.py" name="teleop" output="screen">
  </node>

  <node pkg="r-gator-gazebo-tool" exec="cmd_vel_to_ackermann_drive.py" name="cmd_to_ackermann" output="screen">
  </node>

  <node pkg="r-gator-teleop" exec="r_gator_teleop_node" name="r_gator_teleop_node" output="screen">
  </node>

  <node name="rviz" pkg="rviz" exec="rviz" args="-d $(find-pkg-share r-gator-launch)/config_rviz/r_gator_velodyne.rviz" />

</launch>
